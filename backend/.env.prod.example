# ===============================
# FLEETMASTER PRO - PRODUCCIÓN
# ===============================
# Usar este archivo como base para crear .env.prod en producción

# ===============================
# SERVIDOR
# ===============================
PORT=3001
NODE_ENV=production
FRONTEND_URL=https://tudominio.com

# ===============================
# SUPABASE DATABASE (Connection Pooler)
# ===============================
# IMPORTANTE: Usar Connection Pooler (puerto 6543), NO direct connection
# Dashboard > Settings > Database > Connection pooling
DATABASE_URL=postgresql://postgres.[project-ref]:[password]@aws-0-us-east-1.pooler.supabase.com:6543/postgres

# ===============================
# JWT SECRET
# ===============================
# CRÍTICO: Generar un secreto fuerte de 64+ caracteres
# Comando: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=GENERAR_SECRET_LARGO_Y_ALEATORIO_64_CARACTERES_MINIMO

# ===============================
# SUPERADMIN (Solo primera vez)
# ===============================
# Descomentar SOLO para crear el primer superadmin
# Después de crear, volver a comentar y reiniciar
CREATE_SUPERADMIN=true
ADMIN_USERNAME=admin
ADMIN_PASSWORD=TuPasswordSegura123!
ADMIN_EMAIL=admin@tudominio.com

# ===============================
# WOMPI PRODUCCIÓN
# ===============================
# IMPORTANTE: Usar claves de PRODUCCIÓN, no de staging
# Dashboard Wompi: https://comercios.wompi.co
# Ver guía completa: ../WOMPI-WEBHOOKS-PRODUCTION.md
WOMPI_PUBLIC_KEY=pub_prod_xxxxx
WOMPI_INTEGRITY_SECRET=prod_integrity_xxxxx
WOMPI_WEBHOOK_SECRET=prod_webhook_xxxxx
WOMPI_API_URL=https://production.wompi.co/v1

# WEBHOOK URL para configurar en Dashboard de Wompi:
# https://tudominio.com/api/wompi/webhook

# ===============================
# SMTP CONFIGURACIÓN (Opcional)
# ===============================
# Para emails de notificación
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=tu@email.com
SMTP_PASS=tu_app_password
SMTP_FROM="FleetMaster Hub <noreply@tudominio.com>"
APP_URL=https://tudominio.com

# ===============================
# NOTAS IMPORTANTES
# ===============================
# 
# 1. SUPABASE DATABASE_URL:
#    - Usar SIEMPRE Connection Pooler (puerto 6543)
#    - NO usar direct connection en producción
#    - Agregar IP de EC2 a whitelist en Supabase
#
# 2. FRONTEND_URL:
#    - Sin barra final: https://tudominio.com (✅)
#    - Con barra: https://tudominio.com/ (❌)
#
# 3. JWT_SECRET:
#    - Mínimo 64 caracteres
#    - Aleatorio y único
#    - NO compartir ni versionar
#
# 4. CREATE_SUPERADMIN:
#    - Activar solo la primera vez
#    - Comentar después de crear admin
#    - Reiniciar container después de comentar
#
# 5. WOMPI:
#    - Usar claves de PRODUCCIÓN
#    - Webhook URL: https://tudominio.com/api/webhooks/wompi
#    - Configurar IP whitelist en Wompi si es necesario
#
